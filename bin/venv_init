#!/bin/bash

#
# Python virtualenv setup
#

set -e


echo "[i] Setting up virtualenv (venv)"

BASEDIR=$(dirname $0)
cd $BASEDIR/../

if [ ! -d venv ]; then

    # test which virtualenv tool to use
    if which virtualenv2 >/dev/null; then
    VIRTUALENV=virtualenv2
    else
    VIRTUALENV=virtualenv
    fi

    echo "[i] Using $VIRTUALENV"

    $VIRTUALENV -p python2 venv
fi

echo "[i] Loading virtualenv (venv)"
source venv/bin/activate

echo "[i] Installing requirements"
pip install -r requirements.txt

